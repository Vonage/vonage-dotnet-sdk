namespace Vonage.TestProduct.TestRequest;
using Vonage.Common.Validation;

[Builder]
public readonly partial struct MyRequest : IVonageRequest
{
    [Mandatory(0, nameof(VerifyName), nameof(VerifyNameLength)))]
    public string Name { get; internal init; }
    
    internal static Result<MyRequest> VerifyName(MyRequest request) =>
        InputValidation.VerifyNotEmpty(request, request.Name, nameof(request.Name));
    internal static Result<MyRequest> VerifyNameLength(MyRequest request) =>
        InputValidation.VerifyLengthLowerOrEqualThan(request, request.Name, 20, nameof(request.Name));
}